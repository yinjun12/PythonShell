# PythonShell
1:如何运行

下载后在windows下用VS2017便可以直接打开，查看里面的源码

2：设计思想：

本来准备来实现一个简单的Python的shell交互器，现在只完成了python中几个数据结构的实现，目前正在啃编译原理，等编译原理啃完了再继续回来实现pytyon的shell。 

所以我先定义了一个Type类，把列表中的元素都放到Type类中，这样列表就可以用vector来进行操作。

class Type

{

    public:
    
    float value;//用来存放int或float类型的数据
    string val_str;//用来存放字符串类型数据
    int type;//用来表示数据的类型，因为python中没有类型，0代表整形，1代表浮点型，2代表字符串类型
     Type(float v=0,string vs="", int t=0) :value(v), type(t) {//在python中把字符串都加上‘’,在构造函数里实现
        if (t == STRING)
        {
            vs = "'" + vs + "'";
            val_str = vs;
        }
}


那如果元素要是一个列表，即[1,2,[3,4]]中的[3,4]用什么来表示呢？想了很久 ，最后把这个[3,4]看成是一个字符串”[3,4]”存放在Type中的val_str里，同时type的值为2(字符串类型)+括号的层数。 
比如：元素[3,4]可以表达为Type(0,”[3,4]”,2+1)，其中type=2+1; 
元素[[3,4],5]可以表达为Type(0,”[[3,4],3]”,2+2)，其中type=2+2; 
如果要访问里的元素怎么办呢？要访问上面的 
Type(0,”[[3,4],3]”,4);中的元素3怎么访问呢？我的解决方法就在Type里面重载operatro[]访问“[[3,4],3]”里面的元素.

里面用到了judgeValueType()函数，这个函数是自己定义的判断数据类型的函数，因为Python中的数据类型要自己判断 
这样:Type ty=Type(0,”[[3,4],3]”);我就能通过ty[1]来访问其中的元素3了。 
接下来又有个问题，我重写的operator[]只是单纯返回了一个值，没有返回引用！就实现不了ty[1]=3;来改变值了，那怎么解决呢？ 
因为整个列表元素在一个字符串类型，而要改变可能要改变它的字串，改变字串的同时还要改变整个列表中对应的元素。于是我在Type类中添加了一个成员，是保存上原来Type中的val_str的指针，通过它就能有返回引用的效果了。
